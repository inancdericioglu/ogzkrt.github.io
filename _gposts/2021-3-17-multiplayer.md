---
layout: post
title: Multiplayer Game with Java LibGDX and Kryonet
---

This posts explains how to develop Multiplayer game with Java by using LibGDX and Kryonet. If you able bear until the end of this post and follow all the steps, your final product will be something like this:


<p align="center">
<img src="/images/multiplayer/killthemall.gif" alt="Game Play GIF" width="1000">
</p>

The game that we are going to develop will be Desktop Game and you will able to run it on Windows Linux MacOS.

## Table of Contents

* [Setup Installation](#installation)
* [Project Layout](#project-layout)
* [State Structure](#state-mechanism)
* [Play State](#play-state)
* [Menu State](#menu-state)
* [Game Over State](#architecture)
* [Font Rendering](#font-rendering)
* [Basic Connection with Server](#basic-connection-with-server)
* [Creating Player](#creating-player)
* [Input Processing](#input-processing)
* [Server-side Enemy Generation](#server-side-enemy-generation)
* [Sending Inputs to the Server](#sending-inputs-to-the-server)
* [Rendering Other Players](#rendering-other-players)
* [Shooting](#shooting)
* [Collision Detection](#collision-detection)


## Installation

We will be using LibGDX framework. LibGDX cross-platform open source Java game development framework.
You should download **gdx-setup_latest.jar** from libGDX official [website](https://libgdx.com/dev/project-generation/). Then run that jar file, after running you supposed to see GUI called LibGDX Project Generator.

<p align="center">
<img src="/images/multiplayer/setup.jpg" alt="LibGDX Project Generator" width="500">
</p>
Fill the following fields.
- Name 
- Package
- Destination

As you can see, project generator ask us about the **Android SDK** location because LibGDX will also generate android project for us. Since our game will support only Desktop, uncheck the checkboxes other than **Desktop** in Sub Projects section.


Also make sure you checked the Freetype which will be used to draw fonts, from the extensions section in Project Generator.

After filling necessary fields push the generate button and wait few seconds. You should be seeing **BUILD SUCCESSFUL** log.

<p align="center">
<img src="/images/multiplayer/generated.png" alt="LibGDX Project Generator" width="500">
</p>

Now, we can import the project generated by setup app to our IDE. I will be using Eclipse during these tutorials (because I'm comfortable with it) but you can you whatever IDE you want as long as it supports **Gradle Projects**.

Do the following steps for importing project to the Eclipse

- From file menu, Choose the import menuitem.
- From the dialog Choose Gradle -> Existing Gradle Project (If you don't have Gradle section in this dialog, install Gradle Plugin from MarketPlace
- Browse the folder that you have generated with setup app and press the finish button.

Now, you should have three different project in your project explorer on the left if you are also using Eclipse like me. From Desktop project, choose the DesktopLauncher.java and run it.

If you see a window pop out on your screen like this, it means you are good to go.

<p align="center">
<img src="/images/multiplayer/after_inst.png" alt="Game Window" width="1000">
</p>

If you dont like to read or having problem during the installation, you can also watch the [tutorial]() video that I made. 

## Project Layout
## State Mechanism
## Play State
## Menu State
## Game Over State
## Font Rendering
## Basic Connection with Server
## Creating Player
## Input Processing
## Server-side Enemy Generation
## Sending Inputs to the Server
## Rendering Other Players
## Shooting
## Collision Detection




This project still lacks of features like 
- **Client-Side Prediction**, 
- **Server Reconciliation**,
- **Entity Interpolation**.
 
If you like to know more about these topics please read the awesome blog of Gabriel Gambetta [here](https://www.gabrielgambetta.com/client-server-game-architecture.html)